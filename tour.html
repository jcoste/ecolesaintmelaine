<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Visite Ecole Saint Melaine</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pannellum@2.5.6/build/pannellum.css">
    <script src="https://cdn.jsdelivr.net/npm/pannellum@2.5.6/build/pannellum.js"></script>
    <style>
        html, body { margin:0; height: 100%;}
        #panorama {
            width: 100%;
            height:  100%
        }
        #planDiv {
            position: absolute;
            top: 4px;
            width: 15%;
            right: 4px;
            z-index: 2;
            text-align: center;
            padding-bottom: 3px;
            background-color: rgba(255,255,255,0.5);
        }
        #controls {
            position: absolute;
            bottom: 0;
            z-index: 2;
            text-align: center;
            width: 100%;
            padding-bottom: 3px;
        }
        .ctrl {
            padding: 5px 5px 2px 5px;
            width: 30px;
            text-align: center;
            background: rgba(200, 200, 200, 0.8);
            display: inline-block;
            cursor: pointer;
        }
        .ctrl:hover {
            background: rgba(200, 200, 200, 1);
        }
    </style>
</head>
<body>

<div id="panorama">
    <div id="controls">
        <div class="ctrl" id="zoom-in">
            <svg height="32px" version="1.1" viewBox="0 0 135 135" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg">
                <path d="M74.3,90.6c-10.6,0-20.6-4.1-28.1-11.6S34.6,61.5,34.6,50.9c0-10.6,4.1-20.6,11.6-28.1c7.5-7.5,17.5-11.6,28.1-11.6  c10.6,0,20.6,4.1,28.1,11.6c15.5,15.5,15.5,40.7,0,56.2C94.9,86.5,85,90.6,74.3,90.6L74.3,90.6z M74.3,22.8  c-7.5,0-14.6,2.9-19.9,8.2c-11,11-11,28.8,0,39.8c5.3,5.3,12.4,8.2,19.9,8.2c7.5,0,14.6-2.9,19.9-8.2c5.3-5.3,8.2-12.4,8.2-19.9  c0-7.5-2.9-14.6-8.2-19.9C88.9,25.7,81.9,22.8,74.3,22.8L74.3,22.8z M56.6,56.2V45.5H69V33.2h10.7v12.4h12.4v10.7H79.7v12.4H69V56.2  H56.6L56.6,56.2z M6.9,107.4l29.8-29.8c1.5,2.1,3.2,4.1,5,5.9c1.8,1.8,3.8,3.5,5.9,5l-29.8,29.8L6.9,107.4L6.9,107.4z"/><rect style="fill:none" height="135" id="_x3C_Slice_x3E__100_" width="135"/></svg>
        </div>
        <div class="ctrl" id="zoom-out">
            <svg height="32px" version="1.1" viewBox="0 0 135 141" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" >
                <path d="M86,90.6c-10.6,0-20.6-4.1-28.1-11.6c-7.5-7.5-11.6-17.5-11.6-28.1c0-10.6,4.1-20.6,11.6-28.1c7.5-7.5,17.5-11.6,28.1-11.6  c10.6,0,20.6,4.1,28.1,11.6c15.5,15.5,15.5,40.7,0,56.2C106.6,86.5,96.6,90.6,86,90.6L86,90.6z M86,22.8c-7.5,0-14.6,2.9-19.9,8.2  c-11,11-11,28.8,0,39.8C71.4,76.1,78.5,79,86,79c7.5,0,14.6-2.9,19.9-8.2c5.3-5.3,8.2-12.4,8.2-19.9c0-7.5-2.9-14.6-8.2-19.9  C100.6,25.7,93.5,22.8,86,22.8L86,22.8z M69.9,56.2V45.5h32.2v10.7H69.9L69.9,56.2z M18.5,107.4l29.8-29.8c1.5,2.1,3.2,4.1,5,5.9  c1.8,1.8,3.8,3.5,5.9,5l-29.8,29.8L18.5,107.4L18.5,107.4z"/><rect style="fill:none" height="141" id="_x3C_Slice_x3E__100_" width="135"/></svg>
        </div>
        <div class="ctrl" id="fullscreen">
            <svg width="32px" height="32px" viewBox="0 0 14 14" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                <g id="Icons" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                    <g id="Rounded" transform="translate(-139.000000, -3481.000000)">
                        <g id="Navigation" transform="translate(100.000000, 3378.000000)">
                            <g id="-Round-/-Navigation-/-fullscreen" transform="translate(34.000000, 98.000000)">
                                <g>
                                    <polygon id="Path" points="0 0 24 0 24 24 0 24"></polygon>
                                    <path d="M6,14 C5.45,14 5,14.45 5,15 L5,18 C5,18.55 5.45,19 6,19 L9,19 C9.55,19 10,18.55 10,18 C10,17.45 9.55,17 9,17 L7,17 L7,15 C7,14.45 6.55,14 6,14 Z M6,10 C6.55,10 7,9.55 7,9 L7,7 L9,7 C9.55,7 10,6.55 10,6 C10,5.45 9.55,5 9,5 L6,5 C5.45,5 5,5.45 5,6 L5,9 C5,9.55 5.45,10 6,10 Z M17,17 L15,17 C14.45,17 14,17.45 14,18 C14,18.55 14.45,19 15,19 L18,19 C18.55,19 19,18.55 19,18 L19,15 C19,14.45 18.55,14 18,14 C17.45,14 17,14.45 17,15 L17,17 Z M14,6 C14,6.55 14.45,7 15,7 L17,7 L17,9 C17,9.55 17.45,10 18,10 C18.55,10 19,9.55 19,9 L19,6 C19,5.45 18.55,5 18,5 L15,5 C14.45,5 14,5.45 14,6 Z" id="ðŸ”¹-Icon-Color" fill="#1D1D1D"></path>
                                </g>
                            </g>
                        </g>
                    </g>
                </g>
            </svg>
        </div>
        <div class="ctrl" id="plan"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="mdi-floor-plan" width="32" height="32" viewBox="0 0 24 24"><path d="M10,5V10H9V5H5V13H9V12H10V17H9V14H5V19H12V17H13V19H19V17H21V21H3V3H21V15H19V10H13V15H12V9H19V5H10Z" /></svg></div>
    </div>
    <div id="planDiv">
        <svg xmlns="http://www.w3.org/2000/svg" width="100%" height="auto" viewBox="0 0 160 280" version="1.1" id="svg3784">
            <style>
            .s1{
                fill:none;
                opacity:1;
                stroke-dasharray:none;
                stroke-dashoffset:0;
                stroke-linecap:butt;
                stroke-linejoin:miter;
                stroke-miterlimit:4;
                stroke-opacity:1;
                stroke-width:0.80682117;
                stroke:#000;
            }
            .s2{
                fill-opacity:1;
                fill:#00f;
                cursor:pointer;
            }
            .s3{
                fill-opacity:0.001;
                fill:#000;
                cursor:pointer;
            }
            .s2:hover{
                fill-opacity:1;
                fill:#ff00e1;
            }            
            
            </style> 
              <g id="layer2" transform="translate(-25,0)">
                <path d="m38.819067 29.276247 0.07624 23.253138 12.427091 0.000001" id="path4669" class="s1"/>
                <path d="m50.367812 50.413246 0.01347 2.075522" id="path4673" class="s1"/>
                <path d="m38.819067 29.276247 25.41701-0.06972" id="path4678" class="s1"/>
                <path d="M50.381288 29.206526V46.565442" id="path4680" class="s1"/>
                <path d="M57.389547 52.603326 71.945161 52.495508" id="path4682" class="s1"/>
                <path d="m70.651327 52.549415-0.05391-23.504618 30.405053 0.161729" id="path4684" class="s1"/>
                <path d="m94.048128 28.128332 0.0539 58.437976" id="path4686" class="s1"/>
                <path d="m94.102023 86.566308 37.952417-0.0539 0.00001-28.032916" id="path4688" class="s1"/>
                <path d="M132.00054 54.004977V52.172049" id="path4690" class="s1"/>
                <path d="m132.01401 52.886353-7.08912-0.05391" id="path4694" class="s1"/>
                <path d="M120.9865 52.853405H104.95708" id="path4698" class="s1"/>
                <path d="m111.93302 52.758105 0.0763-23.558098" id="path4700" class="s1"/>
                <path d="m107.73983 29.123767 23.10067 0.15248" id="path4702" class="s1"/>
                <path d="m93.940441 18.831395-0.000129 4.849389" id="path4704" class="s1"/>
                <path d="m120.30214 18.801958-0.0809 10.377613" id="path4706" class="s1"/>
                <path d="M131.19189 18.855868 37.982063 18.640229" id="path4708" class="s1"/>
                <path d="M61.378863 18.694138 61.217134 29.098706" id="path4710" class="s1"/>
                <path d="m37.982063 18.640229-0.09434 10.539342 0.931346 0.09668" id="path4712" class="s1"/>
                <path d="m75.681009 52.548444 5.565505 0.03812" id="path4714" class="s1"/>
                <path d="m84.925086 52.491266 4.555328 0.05718" id="path4716" class="s1"/>
                <path d="m85.973382 52.472205-0.03812-7.947999" id="path4718" class="s1"/>
                <path d="M77.930084 52.491266V45.667804" id="path4720" class="s1"/>
                <path d="m75.299811 45.744042h5.184305l-0.03812-16.524975" id="path4722" class="s1"/>
                <path d="m94.073857 44.543263-8.138599-0.01906h-0.419314" id="path4724" class="s1"/>
                <path d="m94.075084 52.818964 7.008246 0.05391" id="path4726" class="s1"/>
                <path d="m131.19189 18.855868-0.25609 20.827111 0.019 8.157659" id="path4749" class="s1"/>
                <path d="m130.91673 44.409847 10.5211-0.03812" id="path4751" class="s1"/>
                <path d="m141.28534 50.66151 0.0381-10.673571" id="path4753" class="s1"/>
                <path d="m176.62249 40.140418-35.68975 0.06671" id="path4755" class="s1"/>
                <path d="m176.35565 39.835459-0.2859 47.230436" id="path4757" class="s1"/>
                <path d="m176.4319 86.703758-7.20467-0.0572" id="path4759" class="s1"/>
                <path d="m162.40377 86.570338-21.57586 0.0762" id="path4761" class="s1"/>
                <path d="m141.0185 87.046835 0.28591-28.208607" id="path4763" class="s1"/>
                <path d="m141.43783 265.81002 35.37526 8.65322-0.26684-109.67095" id="path4786" class="s1"/>
                <path d="m176.93425 164.80265-14.08391 0.0674" id="path4792" class="s1"/>
                <path d="m163.51074 164.87004v4.97316" id="path4796" class="s1"/>
                <path d="m163.48379 176.48757 0.0269 12.02186" id="path4798" class="s1"/>
                <path d="m163.45683 192.25615h13.12701" id="path4800" class="s1"/>
                <path d="m141.43783 265.81002-0.0381-15.80069" id="path4806" class="s1"/>
                <path d="m141.48864 245.38414 0.0539-80.48715" id="path4808" class="s1"/>
                <path d="M141.43473 199.34527 41.647922 199.18355" id="path4812" class="s1"/>
                <path d="m41.944899 199.5767 0.134299-35.27271" id="path4814" class="s1"/>
                <path d="M41.63994 164.77324H62.948964" id="path4816" class="s1"/>
                <path d="m68.38105 164.83041 18.621568-0.0381" id="path4818" class="s1"/>
                <path d="M92.301287 164.83041H110.84661" id="path4820" class="s1"/>
                <path d="m116.60271 164.86853 39.39691-0.0381" id="path4822" class="s1"/>
                <path d="m163.49018 184.57652 13.03702-0.0572" id="path4824" class="s1"/>
                <path d="m168.92227 188.36946 7.70022 0.0572" id="path4826" class="s1"/>
                <path d="m97.983535 164.89699 0.0539 7.54736" id="path4828" class="s1"/>
                <path d="m98.037447 176.81103 3.450213-0.10782" id="path4830" class="s1"/>
                <path d="m101.2404 176.3045 0.11436 23.02442" id="path4832" class="s1"/>
                <path d="M80.598477 199.13832 80.750955 169.786" id="path4834" class="s1"/>
                <path d="m80.750955 166.43145 0.07625-1.5248" id="path4836" class="s1"/>
                <path d="m148.22735 231.90672h28.51821" id="path4838" class="s1"/>
                <path d="m141.43473 231.96063h2.15638" id="path4840" class="s1"/>
              </g>
              <rect id="case-bureauDirection" width="10.752118" height="22.431145" x="14.237288" y="29.698093" class="s3" />
              <rect id="case-bureau" width="19.465042" height="22.505297" x="25.768009" y="29.661018" class="s3"/>
              <rect id="case-stockage" width="31.81144" height="9.7139835" x="36.779659" y="19.094278" class="s3"/>
              <rect id="case-salleSieste" width="17.055084" height="22.87606" x="69.518013" y="29.586863" class="s3"/>
              <rect id="case-toilettesPetit" width="18.204449" height="22.913136" x="87.388763" y="29.549786" class="s3"/>
              <rect id="case-classePetitsMoyens" width="37.150421" height="32.8125" x="69.555084" y="53.278599" class="s3"/>
              <rect id="case-couloirMaternelles" width="8.3369684" height="38.800987" x="107.43679" y="44.886993" class="s3"/>
              <rect id="case-classeMoyensGrands" width="33.819778" height="45.512508" x="116.77" y="40.692291" class="s3"/>
              <rect id="case-classeCM1CM2" width="37.595009" height="33.55761" x="17.512878" y="165.22249" class="s3"/>
              <rect id="case-salleAbracadabra" width="16.359335" height="33.55761" x="56.261433" y="165.27492" class="s3"/>
              <rect id="case-classeCE2CM1" width="39.377758" height="33.505177" x="76.763031" y="165.27492" class="s3"/>
              <rect id="case-entreeCantine" width="21.170551" height="27.176907" x="116.93855" y="165.32309" class="s3"/>
              <rect id="case-cantine" width="34.23925" height="38.800987" x="116.97974" y="192.75021" class="s3"/>
              <path id="case-classeCPCE1" d="m 116.9273,232.39014 34.39655,0.0524 0.0524,41.52755 -34.44898,-8.44184 z" class="s3"/>
              <path id="case-petiteCour" d="m 115.90042,199.91525 c 0,0 -115.69068494,-0.76812 -115.69068494,-0.24378 0,0.52433 -0.10486753,40.79347 -0.10486753,40.79347 l 11.01109047,11.6403 104.487852,13.80577 z" class="s3"/>
              <rect id="case-preau" width="42.646381" height="77.328918" x="116.54254" y="87.043747" class="s3"/>
              <path id="case-grandeCour" d="M 116.54255,164.37266 116.0185,87.046837 68.368644,87.055087 68.665255,53.463982 0.22245763,53.538135 0.14830505,164.6928 Z" class="s3"/>
              <ellipse id="point-bureauDirection" ry="2.4381702" rx="2.2857845" cy="47.901936" cx="18.435385" class="s2"/>
              <ellipse id="point-bureau" ry="2.4381702" rx="2.2857845" cy="41.05933" cx="35.130623" class="s2"/>
              <ellipse id="point-stockage" ry="2.4381702" rx="2.2857845" cy="26.115707" cx="55.422493" class="s2"/>
              <ellipse id="point-salleSieste" ry="2.4381702" rx="2.2857845" cy="40.482555" cx="78.388481" class="s2"/>
              <ellipse id="point-toilettesPetit" ry="2.4381702" rx="2.2857845" cy="42.842075" cx="98.418182" class="s2"/>
              <ellipse id="point-classePetitsMoyens" ry="2.4381702" rx="2.2857845" cy="70.107635" cx="89.294701" class="s2"/>
              <ellipse id="point-couloirMaternelles" ry="2.4381702" rx="2.2857845" cy="70.264938" cx="111.68392" class="s2"/>
              <ellipse id="point-classeMoyensGrands" ry="2.4381702" rx="2.2857845" cy="65.28373" cx="135.48885" class="s2"/>
              <ellipse id="point-preau" ry="2.4381702" rx="2.2857845" cy="122.48897" cx="132.7623" class="s2"/>
              <ellipse id="point-classeCM1CM2" ry="2.4381702" rx="2.2857845" cy="182.14789" cx="38.66827" class="s2"/>
              <ellipse id="point-salleAbracadabra" ry="2.4381702" rx="2.2857845" cy="184.56569" cx="66.069916" class="s2"/>
              <ellipse id="point-classeCE2CM1" ry="2.4381702" rx="2.2857845" cy="183.15678" cx="96.32415" class="s2"/>
              <ellipse id="point-entreeCantine" ry="2.4381702" rx="2.2857845" cy="171.44067" cx="131.1017" class="s2"/>
              <ellipse id="point-cantine" ry="2.4381702" rx="2.2857845" cy="213.79834" cx="130.4899" class="s2"/>
              <ellipse id="point-classeCPCE1" ry="2.4381702" rx="2.2857845" cy="251.08052" cx="135.03178" class="s2"/>
              <ellipse id="point-petiteCour" ry="2.4381702" rx="2.2857845" cy="224.62994" cx="29.782381" class="s2"/>
              <ellipse id="point-grandeCour" ry="2.4381702" rx="2.2857845" cy="120.60135" cx="39.430191" class="s2"/>
        </svg>
    </div>
</div>

<script>
  function getUrlParameter(name) {
    name = name.replace(/[\[]/, '\\[').replace(/[\]]/, '\\]');
    var regex = new RegExp('[\\?&]' + name + '=([^&#]*)');
    var results = regex.exec(location.search);
    return results === null ? '' : decodeURIComponent(results[1].replace(/\+/g, ' '));
  };

  var scenes=['grandeCour', 'preau', 'petiteCour', 'bureau', 'bureauDirection', 'stockage', 'entreeCantine', 'cantine', 'classeCPCE1', 'classeCE2CM1', 'salleAbracadabra', 'classeCM1CM2', 'couloirMaternelles', 'classeMoyensGrands', 'classePetitsMoyens', 'toilettesPetit', 'salleSieste']

  var scene = getUrlParameter('scene');

  var currentScene = "grandeCour";
  if (scene != '') {
    currentScene = scene;
  }
  var viewer = pannellum.viewer('panorama', {
    "default": {
        "firstScene": currentScene,
        "type": "equirectangular",
        "autoLoad": true,
        "author": "Julien Coste",
        "hfov": 96,
        "compass": true,
    },
    "showControls": false,
    "scenes": {
        "grandeCour": {
            "type": "multires",
            "multiRes": {
                "basePath": "images/multires/grandeCour",
                "path": "/%l/%s%y_%x",
                "fallbackPath": "/fallback/%s",
                "extension": "jpg",
                "tileResolution": 512,
                "maxLevel": 4,
                "cubeResolution": 2600
            },
            "title": "Grande cour",
            "pitch": -0.86,
            "yaw": 71.52,
            "northOffset": 20, 
            "hotSpotDebug": false,
            "hotSpots": [
                {
                    "pitch": -0.48,
                    "yaw": -28.75,
                    "type": "info",
                    "text": "Toilettes garÃ§ons",
                },
                {
                    "pitch": -0.70,
                    "yaw": -20.42,
                    "type": "info",
                    "text": "Toilettes filles",
                },
                {
                    "pitch": -2.44,
                    "yaw": -153.75,
                    "type": "scene",
                    "text": "Cour des petits",
                    "sceneId": "petiteCour"
                },
                {
                    "pitch": -0.24,
                    "yaw": 150.75,
                    "type": "scene",
                    "text": "Salle Abracadabra",
                    "sceneId": "salleAbracadabra"
                },
                {
                    "pitch": -0.03,
                    "yaw": -178.94,
                    "type": "scene",
                    "text": "Classe CM1-CM2",
                    "sceneId": "classeCM1CM2",
                    "targetPitch": -4.47,
                    "targetYaw": -71.44 
                },
                {
                    "pitch": -0.34,
                    "yaw": 123.52,
                    "type": "scene",
                    "text": "Classe CE2-CM1",
                    "sceneId": "classeCE2CM1",
                    "targetPitch": -3.64,
                    "targetYaw": 75.87 
                },
                {
                    "pitch": -0.71,
                    "yaw": 98.28,
                    "type": "scene",
                    "text": "Cantine",
                    "sceneId": "entreeCantine"
                },
                {
                    "pitch": -1.05,
                    "yaw": 39.7,
                    "type": "scene",
                    "text": "Couloir maternelles",
                    "sceneId": "couloirMaternelles"
                },
                {
                    "pitch": -0.01,
                    "yaw": -42.53,
                    "type": "scene",
                    "text": "Bureaux",
                    "sceneId": "bureau",
                    "targetPitch": -5.78,
                    "targetYaw": -80.76
                },
                {
                    "pitch": -0.94,
                    "yaw": 48.59, 
                    "type": "scene",
                    "text": "Classe Moyens-Grands",
                    "sceneId": "classeMoyensGrands",
                    "targetPitch": -2.52,
                    "targetYaw": 80.39 
                },
                {
                    "pitch": -1.35,
                    "yaw": 71.72, 
                    "type": "scene",
                    "text": "PrÃ©au",
                    "sceneId": "preau",
                    "targetPitch": -5.44,
                    "targetYaw": 111.44 
                }

            ]
        },
        "preau": {
            "type": "multires",
            "multiRes": {
                "basePath": "images/multires/preau",
                "path": "/%l/%s%y_%x",
                "fallbackPath": "/fallback/%s",
                "extension": "jpg",
                "tileResolution": 512,
                "maxLevel": 4,
                "cubeResolution": 2600
            },
            "title": "PrÃ©au",
            "pitch": -1.26,
            "yaw": -177.6,
            "northOffset": -15, 
            "hotSpotDebug": false,
            "hotSpots": [
            {
                "pitch": -1.14,
                "yaw": -88.14,
                "type": "scene",
                "text": "Cour des petits",
                "sceneId": "petiteCour"
            },

            {
                "pitch": -0.65,
                "yaw": -109.25,
                "type": "scene",
                "text": "Classe CE2-CM1",
                "sceneId": "classeCE2CM1"
            },
            {
                "pitch": -2.30,
                "yaw": -156.27,
                "type": "scene",
                "text": "Cantine",
                "sceneId": "entreeCantine"
            },
            {
                "pitch": -0.3,
                "yaw": -12.42,
                "type": "scene",
                "text": "Couloir maternelles",
                "sceneId": "couloirMaternelles"
            },
            {
                "pitch": -0.61,
                "yaw": 27.10, 
                "type": "scene",
                "text": "Classe Moyens-Grands",
                "sceneId": "classeMoyensGrands",
                "targetPitch": -2.52,
                "targetYaw": 80.39 
            },
            {
                "pitch": -3.35,
                "yaw": -67.05, 
                "type": "scene",
                "text": "Grande Cour",
                "sceneId": "grandeCour",
                "targetPitch": -2.52,
                "targetYaw": 80.39 
            }

        ]
        },
        "petiteCour": {
            "type": "multires",
            "multiRes": {
                "basePath": "images/multires/petiteCour",
                "path": "/%l/%s%y_%x",
                "fallbackPath": "/fallback/%s",
                "extension": "jpg",
                "tileResolution": 512,
                "maxLevel": 4,
                "cubeResolution": 2600
            },
            "title": "Cour des petits",
            "pitch": -1.26,
            "yaw": -177.6,
            "northOffset": -85, 
            "hotSpotDebug": false,
            "hotSpots": [
                {
                    "pitch": -1.33,
                    "yaw": 35.2,
                    "type": "scene",
                    "text": "Grande cour",
                    "sceneId": "grandeCour"
                },
                {
                    "pitch": -0.81,
                    "yaw": -166.65,
                    "type": "scene",
                    "text": "Classe CP-CE1",
                    "sceneId": "classeCPCE1",
                    "targetPitch": -2.52,
                    "targetYaw": 80.39 
                }
            ]
        },
        "bureau": {
            "type": "multires",
            "multiRes": {
                "basePath": "images/multires/bureau",
                "path": "/%l/%s%y_%x",
                "fallbackPath": "/fallback/%s",
                "extension": "jpg",
                "tileResolution": 512,
                "maxLevel": 4,
                "cubeResolution": 2600
            },
            "title": "Bureau",
            "pitch": -1.26,
            "yaw": -177.6,
            "hfov":120,
            "northOffset": 84, 
            "hotSpotDebug": false,
            "hotSpots": [
                {
                    "pitch": -8.52,
                    "yaw": -47.48,
                    "type": "scene",
                    "text": "Stockage",
                    "sceneId": "stockage"
                },
                {
                    "pitch": -11.19,
                    "yaw": 160.7,
                    "type": "scene",
                    "text": "Bureau Direction",
                    "sceneId": "bureauDirection"
                },
                {
                    "pitch": -7.42,
                    "yaw": 122.14,
                    "type": "scene",
                    "text": "Cour",
                    "sceneId": "grandeCour",
                    "targetPitch": -0.95,
                    "targetYaw": 160.85
                }
            ]
        },
        "bureauDirection": {
            "type": "multires",
            "multiRes": {
                "basePath": "images/multires/bureau-direction",
                "path": "/%l/%s%y_%x",
                "fallbackPath": "/fallback/%s",
                "extension": "jpg",
                "tileResolution": 512,
                "maxLevel": 4,
                "cubeResolution": 2600
            },
            "title": "Bureau Direction",
            "pitch": -10.12,
            "yaw": 5.82,
            "hfov":120,
            "northOffset": 0, 
            "hotSpotDebug": false,
            "hotSpots": [
                {
                    "pitch": -10.02,
                    "yaw": 92.19,
                    "type": "scene",
                    "text": "Bureau",
                    "sceneId": "bureau",
                    "targetPitch": -0.75,
                    "targetYaw": 6.92
                }
            ]
        },
        "stockage": {
            "type": "multires",
            "multiRes": {
                "basePath": "images/multires/stockage",
                "path": "/%l/%s%y_%x",
                "fallbackPath": "/fallback/%s",
                "extension": "jpg",
                "tileResolution": 512,
                "maxLevel": 4,
                "cubeResolution": 2600
            },
            "title": "Stockage",
            "pitch": -4.19,
            "yaw": -155.90,
            "hfov":120,
            "northOffset": -120, 
            "hotSpotDebug": false,
            "hotSpots": [
                {
                    "pitch": -5.85,
                    "yaw": 29.34,
                    "type": "scene",
                    "text": "Bureau",
                    "sceneId": "bureau",
                    "targetPitch": -4.66,
                    "targetYaw": 114.8
                },
                {
                    "pitch": -4.19,
                    "yaw": -155.90,
                    "type": "scene",
                    "text": "Salle Sieste",
                    "sceneId": "salleSieste",
                    "targetPitch": -5.96,
                    "targetYaw": -177.3
                }
            ]
        },        
        "entreeCantine": {
            "type": "multires",
            "multiRes": {
                "basePath": "images/multires/entreeCantine",
                "path": "/%l/%s%y_%x",
                "fallbackPath": "/fallback/%s",
                "extension": "jpg",
                "tileResolution": 512,
                "maxLevel": 4,
                "cubeResolution": 2600
            },
            "title": "EntrÃ©e cantine",
            "pitch": -0.59,
            "yaw":138.2,
            "northOffset": 50, 
            "hotSpotDebug": false,
            "hotSpots": [
                {
                    "pitch": -20,
                    "yaw": -43.19,
                    "type": "scene",
                    "text": "PrÃ©au",
                    "sceneId": "preau",
                    "targetPitch": -0.48,
                    "targetYaw": 19.33
                },
                {
                    "pitch": -8.66,
                    "yaw": 142.58,
                    "type": "scene",
                    "text": "Cantine",
                    "sceneId": "cantine",
                    "targetPitch": -3.78,
                    "targetYaw": 285.05
                }
            ]
        },
        "cantine": {
            "type": "multires",
            "multiRes": {
                "basePath": "images/multires/cantine",
                "path": "/%l/%s%y_%x",
                "fallbackPath": "/fallback/%s",
                "extension": "jpg",
                "tileResolution": 512,
                "maxLevel": 4,
                "cubeResolution": 2600
            },
            "title": "Cantine",
            "pitch": -4.86,
            "yaw":-154.98,
            "northOffset": -80,
            "hfov": 110, 
            "hotSpotDebug": false,
            "hotSpots": [
                {
                    "pitch": -1.31,
                    "yaw": 127.45,
                    "type": "info",
                    "text": "Toilettes",
                },
                {
                    "pitch": -9.87,
                    "yaw": 108.29,
                    "type": "scene",
                    "text": "EntrÃ©e cantine",
                    "sceneId": "entreeCantine",
                    "targetPitch": -11.28,
                    "targetYaw": -43.5
                },
                {
                    "pitch": -2.49,
                    "yaw": -54.1,
                    "type": "scene",
                    "text": "Classe CP-CE1",
                    "sceneId": "classeCPCE1",
                    "targetPitch": -4.15,
                    "targetYaw": -171.5
                },
            ]
        },        
        "classeCPCE1": {
            "type": "multires",
            "multiRes": {
                "basePath": "images/multires/cp",
                "path": "/%l/%s%y_%x",
                "fallbackPath": "/fallback/%s",
                "extension": "jpg",
                "tileResolution": 512,
                "maxLevel": 4,
                "cubeResolution": 2600
            },
            "title": "Classe CP-CE1",
            "pitch": -0.59,
            "yaw":138.2,
            "northOffset": 0, 
            "hotSpotDebug": false,
            "hotSpots": [
                {
                    "pitch": -8.9,
                    "yaw": -86.32,
                    "type": "scene",
                    "text": "Petite Cour",
                    "sceneId": "petiteCour",
                    "targetPitch": -0.48,
                    "targetYaw": 19.33
                },
                {
                    "pitch": -4.66,
                    "yaw": -35.56,
                    "type": "scene",
                    "text": "Cantine",
                    "sceneId": "cantine",
                    "targetPitch": -2.57,
                    "targetYaw": 118.8
                }
            ]
        },
        "classeCE2CM1": {
            "type": "multires",
            "multiRes": {
                "basePath": "images/multires/classeCE1CE2",
                "path": "/%l/%s%y_%x",
                "fallbackPath": "/fallback/%s",
                "extension": "jpg",
                "tileResolution": 512,
                "maxLevel": 4,
                "cubeResolution": 2600
            },
            "title": "Classe CE2-CM1",
            "pitch": 0,
            "yaw": 0,
            "northOffset": 90, 
            "hfov": 110,
            "hotSpotDebug": false,
            "hotSpots": [
                {
                    "pitch": -6.65,
                    "yaw": -118.15, 
                    "type": "scene",
                    "text": "Grande cour",
                    "sceneId": "grandeCour",
                    "targetPitch": 0.30,
                    "targetYaw": -32 
                },
                {
                    "pitch": -3.0,
                    "yaw": -160.47, 
                    "type": "scene",
                    "text": "Salle Abracadabra",
                    "sceneId": "salleAbracadabra",
                    "targetPitch": -4.74,
                    "targetYaw": -159.78 
                }
            ]
        },
        "salleAbracadabra": {
            "type": "multires",
            "multiRes": {
                "basePath": "images/multires/salleAbracadabra",
                "path": "/%l/%s%y_%x",
                "fallbackPath": "/fallback/%s",
                "extension": "jpg",
                "tileResolution": 512,
                "maxLevel": 4,
                "cubeResolution": 2600
            },
            "title": "Salle Abracadabra",
            "pitch": -6.24,
            "yaw": 129,
            "northOffset": 50, 
            "hfov": 110,
            "hotSpotDebug": false,
            "hotSpots": [
                {
                    "pitch": -4.76,
                    "yaw": -53.76, 
                    "type": "scene",
                    "text": "Grande cour",
                    "sceneId": "grandeCour",
                    "targetPitch": 0.30,
                    "targetYaw": -39.3 
                },
                {
                    "pitch": -6.91,
                    "yaw": -0.14, 
                    "type": "scene",
                    "text": "Classe CE2-CM1",
                    "sceneId": "classeCE2CM1"
                },
                {
                    "pitch": -1.67,
                    "yaw": -83.69, 
                    "type": "scene",
                    "text": "Classe CM1-CM2",
                    "sceneId": "classeCM1CM2",
                    "targetPitch": 0.54,
                    "targetYaw": -26.5 
                }
            ]
        },
        "classeCM1CM2": {
            "type": "multires",
            "multiRes": {
                "basePath": "images/multires/classeCM1CM2",
                "path": "/%l/%s%y_%x",
                "fallbackPath": "/fallback/%s",
                "extension": "jpg",
                "tileResolution": 512,
                "maxLevel": 4,
                "cubeResolution": 2600
            },
            "title": "Classe CM1-CM2",
            "pitch": 0,
            "yaw": 0,
            "northOffset": -85, 
            "hfov": 110,
            "hotSpotDebug": false,
            "hotSpots": [
                {
                    "pitch": -8.01,
                    "yaw": 101.57, 
                    "type": "scene",
                    "text": "Grande cour",
                    "sceneId": "grandeCour",
                    "targetPitch": 0.30,
                    "targetYaw": -8 
                },
                {
                    "pitch": -1.97,
                    "yaw": 146.42, 
                    "type": "scene",
                    "text": "Salle Abracadabra",
                    "sceneId": "salleAbracadabra",
                    "targetPitch": -11,
                    "targetYaw": 46.82 
                }
            ]
        },
        "couloirMaternelles": {
            "type": "multires",
            "multiRes": {
                "basePath": "images/multires/couloirMaternelles",
                "path": "/%l/%s%y_%x",
                "fallbackPath": "/fallback/%s",
                "extension": "jpg",
                "tileResolution": 512,
                "maxLevel": 4,
                "cubeResolution": 2600
            },
            "title": "Couloir Maternelles",
            "pitch": 0,
            "yaw": 0,
            "northOffset": 0, 
            "hfov": 110,
            "hotSpotDebug": false,
            "hotSpots": [
                {
                    "pitch": -5.12,
                    "yaw": 24.22, 
                    "type": "scene",
                    "text": "Classe Moyens-Grands",
                    "sceneId": "classeMoyensGrands",
                    "targetPitch": -4.50,
                    "targetYaw": 214.83 
                },
                {
                    "pitch": -5.12,
                    "yaw": -25.00, 
                    "type": "scene",
                    "text": "Classe Petits-Moyens",
                    "sceneId": "classePetitsMoyens",
                    "targetPitch": -4.44,
                    "targetYaw": 9.92 
                },
                {
                    "pitch": -2.62,
                    "yaw": -12.74, 
                    "type": "scene",
                    "text": "Toilettes",
                    "sceneId": "toilettesPetit",
                    "targetPitch": -15.145,
                    "targetYaw": -20.08
                },
                {
                    "pitch": -6.72,
                    "yaw": -182.97,
                    "type": "scene",
                    "text": "Grande cour",
                    "sceneId": "grandeCour"
                }
            ]
        },
        "classeMoyensGrands": {
            "type": "multires",
            "multiRes": {
                "basePath": "images/multires/classeMoyensGrands",
                "path": "/%l/%s%y_%x",
                "fallbackPath": "/fallback/%s",
                "extension": "jpg",
                "tileResolution": 512,
                "maxLevel": 4,
                "cubeResolution": 2600
            },
            "title": "Classe Moyens-Grands",
            "pitch": 0,
            "yaw": 0,
            "northOffset": -90, 
            "hfov": 110,
            "hotSpotDebug": false,
            "hotSpots": [
                {
                    "pitch": -4.45,
                    "yaw": 28.72, 
                    "type": "scene",
                    "text": "Couloir Maternelles",
                    "sceneId": "couloirMaternelles"
                },
                {
                    "pitch": -4.44,
                    "yaw": -114.95,
                    "type": "scene",
                    "text": "PrÃ©au",
                    "sceneId": "preau",
                    "targetPitch": -2.23,
                    "targetYaw": -158.47
                }
            ]
        },
        "classePetitsMoyens": {
            "type": "multires",
            "multiRes": {
                "basePath": "images/multires/petit-moyen",
                "path": "/%l/%s%y_%x",
                "fallbackPath": "/fallback/%s",
                "extension": "jpg",
                "tileResolution": 512,
                "maxLevel": 4,
                "cubeResolution": 2600
            },
            "title": "Classe Petits-Moyens",
            "pitch": 0,
            "yaw": 0,
            "northOffset": -90, 
            "hfov": 110,
            "hotSpotDebug": false,
            "hotSpots": [
                {
                    "pitch": -5.17,
                    "yaw": 143.50, 
                    "type": "scene",
                    "text": "Couloir Maternelles",
                    "sceneId": "couloirMaternelles",
                    "targetPitch": -4.19,
                    "targetYaw": 178.74
                },
                {
                    "pitch": 0.65,
                    "yaw": 61.88,
                    "type": "scene",
                    "text": "Salle Sieste",
                    "sceneId": "salleSieste"
                },
                {
                    "pitch": -3.66,
                    "yaw": 117.46,
                    "type": "scene",
                    "text": "Toilettes",
                    "sceneId": "toilettesPetit",
                    "targetPitch": -15.85,
                    "targetYaw": 25.45
                }
            ]
        },
        "toilettesPetit": {
            "type": "multires",
            "multiRes": {
                "basePath": "images/multires/toilettes-petit",
                "path": "/%l/%s%y_%x",
                "fallbackPath": "/fallback/%s",
                "extension": "jpg",
                "tileResolution": 512,
                "maxLevel": 4,
                "cubeResolution": 2600
            },
            "title": "Toilettes Petits",
            "pitch": 0,
            "yaw": 0,
            "northOffset": 0, 
            "hfov": 110,
            "hotSpotDebug": false,
            "hotSpots": [
                {
                    "pitch": -5.65,
                    "yaw": 136.47, 
                    "type": "scene",
                    "text": "Couloir Maternelles",
                    "sceneId": "couloirMaternelles",
                    "targetPitch": -4.19,
                    "targetYaw": 178.74
                },
                {
                    "pitch": -10.52,
                    "yaw": -167.64,
                    "type": "scene",
                    "text": "Classe Petis-Moyens",
                    "sceneId": "classePetitsMoyens",
                    "targetPitch": -1.18,
                    "targetYaw": -85.77 
                }
            ]
        },
        "salleSieste": {
            "type": "multires",
            "multiRes": {
                "basePath": "images/multires/salleSieste",
                "path": "/%l/%s%y_%x",
                "fallbackPath": "/fallback/%s",
                "extension": "jpg",
                "tileResolution": 512,
                "maxLevel": 4,
                "cubeResolution": 2600
            },
            "title": "Salle de sieste",
            "pitch": 0,
            "yaw": 0,
            "northOffset": 0, 
            "hfov": 110,
            "hotSpotDebug": false,
            "hotSpots": [
                {
                    "pitch": -8.01,
                    "yaw": 183.16, 
                    "type": "scene",
                    "text": "Classe Petits-Moyens",
                    "sceneId": "classePetitsMoyens",
                    "targetPitch": -1.18,
                    "targetYaw": -85.77 
                },
                {
                    "pitch": -5.95,
                    "yaw": -12.18, 
                    "type": "scene",
                    "text": "Stockage",
                    "sceneId": "stockage",
                    "targetPitch": -5.80,
                    "targetYaw": 33.28 
                }
            ]
        }
    }
});
viewer.on('scenechange',
    function (sceneId) {
        document.getElementById('point-'+currentScene).style.fill="blue";
        currentScene=sceneId;
        document.getElementById('point-'+currentScene).style.fill="red";
    }
);
document.getElementById('point-'+currentScene).style.fill="red";

scenes.forEach(s => {
    var myCase = document.getElementById('case-'+s);
    myCase.onclick = function() { viewer.loadScene(s) };
    myCase.onmouseover = function() { 
        myCase.style.fill="#00f"
        myCase.style.fillOpacity="0.5"
    };
    myCase.onmouseout = function() { 
        myCase.style.fill="#000"
        myCase.style.fillOpacity="0.001"
    };
    var myPoint = document.getElementById('point-'+s);
    myPoint.onclick = function() { viewer.loadScene(s) };
    myPoint.onmouseover = function() { 
        var myCase = document.getElementById('case-'+s);
        myCase.style.fill="#00f"
        myCase.style.fillOpacity="0.5"
    };
    myPoint.onmouseout = function() { 
        var myCase = document.getElementById('case-'+s);
        myCase.style.fill="#000"
        myCase.style.fillOpacity="0.001"
    };    
});

document.getElementById('zoom-in').addEventListener('click', function(e) {
    viewer.setHfov(viewer.getHfov() - 10);
});
document.getElementById('zoom-out').addEventListener('click', function(e) {
    viewer.setHfov(viewer.getHfov() + 10);
});
document.getElementById('fullscreen').addEventListener('click', function(e) {
    viewer.toggleFullscreen();
});
document.getElementById('plan').addEventListener('click', function(e) {
    var plan = document.getElementById('planDiv'); 
    plan.style.display = plan.style.display === 'none' ? '' : 'none'
});

</script>

</body>
</html>